<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Software on Esrum" href="../modules.html" /><link rel="prev" title="Monitoring slurm jobs" href="monitoring.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.04.27 -->
        <title>GPU / high-memory jobs - Esrum Cluster documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=437aa6ec" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/playback.css?v=2c0b8537" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=14071cef" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Esrum Cluster  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">Esrum Cluster  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Front page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview of cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guidelines.html">Guidelines and policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using the cluster</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../access/access.html">Applying for access</a></li>
<li class="toctree-l1"><a class="reference internal" href="../access/connecting.html">Connecting to the cluster</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../filesystem.html">Data storage on Esrum</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Data storage on Esrum</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects.html">Requesting projects and datasets</a></li>
</ul>
</li>
<li class="toctree-l1 current has-children"><a class="reference internal" href="index.html">Running jobs using Slurm</a><input checked="" class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Running jobs using Slurm</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="basics.html">Basic Slurm jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="advanced.html">Advanced Slurm jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="monitoring.html">Monitoring slurm jobs</a></li>
<li class="toctree-l2 current current-page"><a class="current reference internal" href="#">GPU / high-memory jobs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Software on Esrum</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../transfers/index.html">Transferring data</a><input class="toctree-checkbox" id="toctree-checkbox-3" name="toctree-checkbox-3" role="switch" type="checkbox"/><label for="toctree-checkbox-3"><div class="visually-hidden">Toggle navigation of Transferring data</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../transfers/internal.html">Internal data transfers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transfers/external.html">External data transfers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transfers/services.html">Cloud services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../transfers/misc.html">Miscellaneous</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources/cohorts.html">Human cohorts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/common.html">Common datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../services/rstudio.html">RStudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/networkdrives.html">Network drives (H:, N:, S:)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/jupyter.html">Jupyter Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/containers.html">Containerized software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/shiny.html">Shiny servers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tips and tricks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tips/ports.html">Port forwarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/modules.html">Creating environment modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/tmux.html">Persistent sessions with tmux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/batching_commands.html">Batching commands in bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/robust_scripts.html">Writing robust bash scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/snakemake.html">Using Snakemake on Esrum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/r.html">Using R on Esrum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Outreach</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../communications/messages.html">Welcome email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../communications/presentations.html">Presentations</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/cbmr-data/cbmr-data.github.io/edit/main/esrum/source/usage/slurm/gpu.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="gpu-high-memory-jobs">
<span id="p-usage-slurm-gpu"></span><h1>GPU / high-memory jobs<a class="headerlink" href="#gpu-high-memory-jobs" title="Link to this heading">¶</a></h1>
<p>The cluster currently includes 1 node with 2x A100 Nvidia GPUs and 4 TB
of RAM, and 3 nodes with 2x H100 Nvidia GPUs and 2 TB of RAM. We refer
to these as the GPU and/or high-memory nodes, and this page describes
how to use them.</p>
<p>These nodes are intended for tasks that make use of GPUs, and for
individual jobs that require more than the 2 TB of RAM available on the
regular compute nodes.</p>
<section id="running-jobs-on-the-gpu-high-memory-node">
<h2>Running jobs on the GPU / high-memory node<a class="headerlink" href="#running-jobs-on-the-gpu-high-memory-node" title="Link to this heading">¶</a></h2>
<p>By default, jobs submitted via Slurm will only run on regular nodes,
even if you ask for more than 2 TB of RAM or ask for a GPU. Attempting
to run such a task will instead result in a <code class="docutils literal notranslate"><span class="pre">Requested</span> <span class="pre">node</span>
<span class="pre">configuration</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">available</span></code> error message.</p>
<p>This is because the GPU / high-memory node is located on its own queue,
to in order prevent normal use of the cluster from blocking access to
these resources. You must therefore select use the option
<code class="docutils literal notranslate"><span class="pre">--partition=gpuqueue</span></code> to select the correct queue. This might look as
follows in a sbatch script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="ch">#!/bin/bash</span>
<span class="hll"><span class="linenos">2</span><span class="c1">#SBATCH --partition=gpuqueue</span>
</span><span class="linenos">3</span>
<span class="linenos">4</span>my-memory-hungry-command
</pre></div>
</div>
<p>While running on the GPU queue, you can reserve up to 3920 GB of RAM and
up to two GPUs (see below) per job. The GPU / high-memory nodes
otherwise use the same defaults as the other nodes (~16 GB of RAM per
CPU reserved).</p>
<p>For example, to run a job using 2.5 TB of RAM on the GPU / high-memory
node:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="ch">#!/bin/bash</span>
<span class="hll"><span class="linenos">2</span><span class="c1">#SBATCH --partition=gpuqueue</span>
</span><span class="linenos">3</span><span class="c1">#SBATCH --mem 2560G</span>
<span class="linenos">4</span>
<span class="linenos">5</span>my-memory-hungry-command
</pre></div>
</div>
<p>This script can then be submitted as usual:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sbatch<span class="w"> </span>my_hi_mem_job.sh
<span class="go">Submitted batch job 217217</span>
</pre></div>
</div>
<p>See the <a class="reference internal" href="basics.html#p-usage-slurm-basics"><span class="std std-ref">Basic Slurm jobs</span></a> and <a class="reference internal" href="advanced.html#p-usage-slurm-advanced"><span class="std std-ref">Advanced Slurm jobs</span></a>
pages for information about reserving additional CPUs, more RAM, and for
setting other Slurm settings for your jobs.</p>
<p>We ask that you do not reserve all available CPUs or all RAM on the GPU
/ high-memory node, unless it is actually required for your analyses,
since leaving some unused resources permits other users to utilize the
GPUs while your tasks are running.</p>
</section>
<section id="reserving-gpus">
<h2>Reserving GPUs<a class="headerlink" href="#reserving-gpus" title="Link to this heading">¶</a></h2>
<p>Requesting GPUs is done with the <code class="docutils literal notranslate"><span class="pre">--gres</span></code> option and also requires
that using the <code class="docutils literal notranslate"><span class="pre">--partition=gpuqueue</span></code> option to select the correct
queue, as described above. This might look as follows in a <code class="docutils literal notranslate"><span class="pre">sbatch</span></code>
script:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="ch">#!/bin/bash</span>
<span class="hll"><span class="linenos">2</span><span class="c1">#SBATCH --partition=gpuqueue --gres=gpu:1</span>
</span><span class="linenos">3</span>
<span class="linenos">4</span>nvidia-smi<span class="w"> </span>-L
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">--gres=gpu:1</span></code> in the above asks Slurm to make 1 GPU available to
our job. This can be increased to <code class="docutils literal notranslate"><span class="pre">2</span></code> to reserve both GPUs on the
node, but because of the limited number of GPUs we ask that you only
reserve 1 GPU per job, which is normally also more efficient.</p>
<p>This script can then be submitted as usual:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sbatch<span class="w"> </span>my_gpu_job.sh
<span class="go">Submitted batch job 217218</span>
<span class="gp">$ </span>cat<span class="w"> </span>slurm-217218.out
<span class="go">GPU 0: NVIDIA A100 80GB PCIe (UUID: GPU-4f2ff8df-0d18-a99b-9fb8-67aa0867f7a3)</span>
</pre></div>
</div>
<section id="requesting-specific-gpus">
<h3>Requesting specific GPUs<a class="headerlink" href="#requesting-specific-gpus" title="Link to this heading">¶</a></h3>
<p>As indicated above, the GPU nodes includes both Nvidia H100 and A100
GPUs. By default, your job will be assigned to the first idle GPU(s),
but it is also possible to request a specific GPU type.</p>
<p>To request an A100 GPU, replace the <code class="docutils literal notranslate"><span class="pre">--gres=gpu:1</span></code> option with
<code class="docutils literal notranslate"><span class="pre">--gres=gpu:a100:1</span></code>, and to request an H100 GPU, replace the
<code class="docutils literal notranslate"><span class="pre">--gres=gpu:1</span></code> option with <code class="docutils literal notranslate"><span class="pre">--gres=gpu:h100:1</span></code>. For example,</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="ch">#!/bin/bash</span>
<span class="hll"><span class="linenos">2</span><span class="c1">#SBATCH --partition=gpuqueue --gres=gpu:h100:1</span>
</span><span class="linenos">3</span>
<span class="linenos">4</span>nvidia-smi<span class="w"> </span>-L
</pre></div>
</div>
<p>This script can then be submitted as usual:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sbatch<span class="w"> </span>my_h100_job.sh
<span class="go">Submitted batch job 217219</span>
<span class="gp">$ </span>cat<span class="w"> </span>slurm-217219.out
<span class="go">GPU 0: NVIDIA H100 NVL (UUID: GPU-c43d0655-2d15-7e66-90b3-9b732a1d13ba)</span>
</pre></div>
</div>
<p>We recommend looking at current GPU utilization before submitting your
job, as any time saved by running on a faster (H100) GPU may be lost
from having to wait for them to be idle. See <code class="docutils literal notranslate"><span class="pre">slurmboard</span></code> utility
described in the <a class="reference internal" href="monitoring.html#s-monitoring-slurm"><span class="std std-ref">Monitoring the cluster</span></a> section provides a simple way
to see GPU reservations.</p>
</section>
<section id="running-an-interactive-session">
<h3>Running an interactive session<a class="headerlink" href="#running-an-interactive-session" title="Link to this heading">¶</a></h3>
<p>While it is possible to run an interactive session on the GPU /
high-memory node, we ask that you limit the usage of such sessions as
much as possible. If at all possible, prefer using <code class="docutils literal notranslate"><span class="pre">sbatch</span></code> or
non-interactive <code class="docutils literal notranslate"><span class="pre">srun</span></code> instead. This ensures that the resources are
available for use when you (or other users) are not actively using them.</p>
<p>To start an interactive session using a GPU you simply apply the same
<code class="docutils literal notranslate"><span class="pre">--partition</span></code> and (optionally) the same <code class="docutils literal notranslate"><span class="pre">--gres</span></code> options as above if
you need a GPU, as well as other resource options described in the
<a class="reference internal" href="basics.html#reserving-resources"><span class="std std-ref">Reserving resources</span></a> section:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>srun<span class="w"> </span>--pty<span class="w"> </span>--partition<span class="o">=</span>gpuqueue<span class="w"> </span>--<span class="w"> </span>/bin/bash
</pre></div>
</div>
<p>See the <a class="reference internal" href="basics.html#s-interactive-session"><span class="std std-ref">Interactive sessions</span></a> section for information about
interactive sessions, including information about running programs with
graphical interfaces.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Interactive sessions left running on the GPU node may be terminated
without warning.</p>
</div>
</section>
</section>
<section id="monitoring-gpu-utilization">
<h2>Monitoring GPU utilization<a class="headerlink" href="#monitoring-gpu-utilization" title="Link to this heading">¶</a></h2>
<p>Please see the <a class="reference internal" href="monitoring.html#s-monitoring-gpu-utilization"><span class="std std-ref">Monitoring GPU utilization</span></a> section on the
<a class="reference internal" href="monitoring.html#p-usage-slurm-monitor"><span class="std std-ref">Monitoring slurm jobs</span></a> page.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<section id="error-requested-node-configuration-is-not-available">
<h3>Error: Requested node configuration is not available<a class="headerlink" href="#error-requested-node-configuration-is-not-available" title="Link to this heading">¶</a></h3>
<p>See the Slurm Basics <a class="reference internal" href="basics.html#s-slurm-basics-troubleshooting"><span class="std std-ref">Troubleshooting</span></a> section.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../modules.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Software on Esrum</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="monitoring.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Monitoring slurm jobs</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2024, CBMR Data Analytics; licensed under CC-BY 4.0
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">GPU / high-memory jobs</a><ul>
<li><a class="reference internal" href="#running-jobs-on-the-gpu-high-memory-node">Running jobs on the GPU / high-memory node</a></li>
<li><a class="reference internal" href="#reserving-gpus">Reserving GPUs</a><ul>
<li><a class="reference internal" href="#requesting-specific-gpus">Requesting specific GPUs</a></li>
<li><a class="reference internal" href="#running-an-interactive-session">Running an interactive session</a></li>
</ul>
</li>
<li><a class="reference internal" href="#monitoring-gpu-utilization">Monitoring GPU utilization</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#error-requested-node-configuration-is-not-available">Error: Requested node configuration is not available</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=a7c4b63f"></script>
    <script src="../../_static/js/custom.js?v=d3d7fd27"></script>
    <script src="../../_static/js/libgif.js?v=7adcb026"></script>
    <script src="../../_static/js/playback.js?v=d7002ce9"></script>
    </body>
</html>