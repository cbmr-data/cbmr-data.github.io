<!doctype html>
<html class="no-js" lang="en" data-content_root="../../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="search" title="Search" href="../../search.html" /><link rel="next" title="Data storage on Esrum" href="../filesystem.html" /><link rel="prev" title="Applying for access" href="access.html" />

    <!-- Generated with Sphinx 7.4.7 and Furo 2024.04.27 -->
        <title>Connecting to the cluster - Esrum Cluster documentation</title>
      <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=d111a655" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo.css?v=437aa6ec" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/playback.css?v=2c0b8537" />
    <link rel="stylesheet" type="text/css" href="../../_static/css/theme.css?v=14071cef" />
    
    


<style>
  body {
    --color-code-background: #f2f2f2;
  --color-code-foreground: #1e1e1e;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #2b2b2b;
  --color-code-foreground: #f8f8f2;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>

<a class="skip-to-content muted-link" href="#furo-main-content">Skip to content</a>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../../index.html"><div class="brand">Esrum Cluster  documentation</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../../index.html">
  
  
  <span class="sidebar-brand-text">Esrum Cluster  documentation</span>
  
</a><form class="sidebar-search-container" method="get" action="../../search.html" role="search">
  <input class="sidebar-search" placeholder="Search" name="q" aria-label="Search">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Front page</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contact.html">Contact us</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../overview.html">Overview of cluster</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../guidelines.html">Guidelines and policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../troubleshooting.html">Troubleshooting</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using the cluster</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="access.html">Applying for access</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Connecting to the cluster</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../filesystem.html">Data storage on Esrum</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Data storage on Esrum</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../projects.html">Requesting projects and datasets</a></li>
</ul>
</li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../slurm/index.html">Running jobs using Slurm</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Running jobs using Slurm</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../slurm/basics.html">Basic Slurm jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../slurm/advanced.html">Advanced Slurm jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../slurm/monitoring.html">Monitoring slurm jobs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../slurm/gpu.html">GPU / high-memory jobs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../modules.html">Software on Esrum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../transfers.html">Transferring data</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../resources/cohorts.html">Human cohorts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources/common.html">Common datasets</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other services</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../services/rstudio.html">RStudio</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/networkdrives.html">Network drives (H:, N:, S:)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/jupyter.html">Jupyter Notebooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/containers.html">Containerized software</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../services/shiny.html">Shiny servers</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Tips and tricks</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../tips/ports.html">Port forwarding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/modules.html">Creating environment modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/tmux.html">Persistent sessions with tmux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/batching_commands.html">Batching commands in bash</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/robust_scripts.html">Writing robust bash scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/snakemake.html">Using Snakemake on Esrum</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../tips/r.html">Using R on Esrum</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Outreach</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../communications/messages.html">Welcome email</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../communications/presentations.html">Presentations</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          <div class="edit-this-page">
  <a class="muted-link" href="https://github.com/cbmr-data/cbmr-data.github.io/edit/main/esrum/source/usage/access/connecting.rst" title="Edit this page">
    <svg aria-hidden="true" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" />
      <line x1="13.5" y1="6.5" x2="17.5" y2="10.5" />
    </svg>
    <span class="visually-hidden">Edit this page</span>
  </a>
</div><div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main" id="furo-main-content">
          <section id="connecting-to-the-cluster">
<span id="p-usage-connecting"></span><h1>Connecting to the cluster<a class="headerlink" href="#connecting-to-the-cluster" title="Link to this heading">¶</a></h1>
<p>The cluster is accessible via <a class="reference external" href="https://en.wikipedia.org/wiki/Secure_Shell">SSH</a> at <code class="docutils literal notranslate"><span class="pre">esrumhead01fl.unicph.domain</span></code>.
This is the Esrum &quot;head&quot; node, the entry-point to the cluster, where you
will be queuing your analyses using the Slurm job management system, as
described on the <a class="reference internal" href="../slurm/index.html#p-usage-slurm"><span class="std std-ref">Running jobs using Slurm</span></a> pages.</p>
<p>Additionally, the two RStudio servers are accessible at
<a class="reference external" href="https://esrumweb01fl/">https://esrumweb01fl/</a> and <a class="reference external" href="https://esrumweb02fl/">https://esrumweb02fl/</a>. See the
<a class="reference internal" href="../../services/rstudio.html#p-service-rstudio"><span class="std std-ref">RStudio</span></a> page for more information.</p>
<p>However, to connect to any of these, you must</p>
<ol class="arabic simple">
<li><p>Have been granted access by the Data Analytics team. If that is not
the case, then please see the <a class="reference internal" href="access.html#p-usage-access-applying"><span class="std std-ref">Applying for access</span></a> page
before continuing</p></li>
<li><p>Be connected to the official UCPH <a class="reference external" href="en.wikipedia.org/wiki/VPN">VPN</a>. See below for more
information.</p></li>
<li><p>Follow the instructions for your operating system to configure an SSH
client:</p></li>
</ol>
<div class="table-wrapper image-buttons docutils container">
<table class="image-buttons docutils align-default">
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#s-connecting-windows"><span class="std std-ref">Windows</span></a></p>
<a class="reference external image-reference" href="#connecting-on-windows"><img alt="../../_images/os_windows.png" src="../../_images/os_windows.png" style="width: 128px;" />
</a>
</td>
<td><p><a class="reference internal" href="#s-connecting-osx"><span class="std std-ref">OSX</span></a></p>
<a class="reference external image-reference" href="#connecting-on-osx"><img alt="../../_images/os_macosx.png" src="../../_images/os_macosx.png" style="width: 128px;" />
</a>
</td>
<td><p><a class="reference internal" href="#s-connecting-linux"><span class="std std-ref">Linux</span></a></p>
<a class="reference external image-reference" href="#connecting-on-linux"><img alt="../../_images/os_linux.png" src="../../_images/os_linux.png" style="width: 128px;" />
</a>
</td>
</tr>
</tbody>
</table>
</div>
<section id="connecting-on-windows">
<span id="s-connecting-windows"></span><h2>Connecting on Windows<a class="headerlink" href="#connecting-on-windows" title="Link to this heading">¶</a></h2>
<p>To connect to Esrum you will first have to connect to the UCPH VPN. For
information about connecting to the VPN when using Windows, see the
support pages on KUnet in <a class="reference external" href="https://kunet.ku.dk/medarbejderguide/Sider/It/Fjernadgang-vpn.aspx">Danish</a> and <a class="reference external" href="https://kunet.ku.dk/employee-guide/Pages/IT/Remote-access.aspx">English</a>.</p>
<p>Windows users will additionally need to install an SSH client in order
to be able to connect to the Esrum head node. Options include
<a class="reference external" href="https://mobaxterm.mobatek.net/">MobaXterm</a>, <a class="reference external" href="https://www.putty.org/">Putty</a>, Windows Subsystem for Linux (<a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/about">WSL</a>), and many more.</p>
<p>The following demonstrates how to connect using MobaXterm, but you are
welcome to use any SSH client that you prefer. If using <a class="reference external" href="https://learn.microsoft.com/en-us/windows/wsl/about">WSL</a>, then see
the <a class="reference internal" href="#s-connecting-linux"><span class="std std-ref">Connecting on Linux</span></a> section.</p>
<section id="configuring-mobaxterm">
<span id="s-configure-mobaxterm"></span><h3>Configuring MobaXterm<a class="headerlink" href="#configuring-mobaxterm" title="Link to this heading">¶</a></h3>
<ol class="arabic">
<li><p>Install and open <a class="reference external" href="https://mobaxterm.mobatek.net/">MobaXterm</a>.</p></li>
<li><p>Click left-most button, labeled <code class="docutils literal notranslate"><span class="pre">Session</span></code>, on the toolbar.</p>
<img alt="../../_images/mobaxterm_01.png" class="align-center" src="../../_images/mobaxterm_01.png" />
</li>
<li><p>Click on the left-most button, labeled <code class="docutils literal notranslate"><span class="pre">SSH</span></code>, in the resulting
<code class="docutils literal notranslate"><span class="pre">Session</span> <span class="pre">settings</span></code> dialog</p>
<img alt="../../_images/mobaxterm_02.png" class="align-center" src="../../_images/mobaxterm_02.png" />
</li>
<li><p>Under <code class="docutils literal notranslate"><span class="pre">Basic</span> <span class="pre">SSH</span> <span class="pre">settings</span></code></p>
<ol class="arabic simple">
<li><p>Write <code class="docutils literal notranslate"><span class="pre">esrumhead01fl.unicph.domain</span></code> under <code class="docutils literal notranslate"><span class="pre">Remote</span> <span class="pre">Host</span></code></p></li>
<li><p>Click the checkbox next to <code class="docutils literal notranslate"><span class="pre">Specify</span> <span class="pre">username</span></code> and enter your
UCPH username as shown.</p></li>
<li><p>Select <code class="docutils literal notranslate"><span class="pre">SCP</span> <span class="pre">(enhanced</span> <span class="pre">speed)</span></code> on the <code class="docutils literal notranslate"><span class="pre">SSH-browser</span></code> type
drop-down menu. This is required for file-uploads to work.</p></li>
</ol>
<img alt="../../_images/mobaxterm_03.png" class="align-center" src="../../_images/mobaxterm_03.png" />
</li>
<li><p>Click on the <code class="docutils literal notranslate"><span class="pre">Bookmark</span> <span class="pre">settings</span></code> tab and</p>
<ol class="arabic simple">
<li><p>Write <code class="docutils literal notranslate"><span class="pre">Esrum</span></code> or a name you prefer under <code class="docutils literal notranslate"><span class="pre">Session</span> <span class="pre">Name</span></code></p></li>
<li><p>Optionally click the <code class="docutils literal notranslate"><span class="pre">Create</span> <span class="pre">a</span> <span class="pre">desktop</span> <span class="pre">shortcut</span> <span class="pre">to</span> <span class="pre">this</span> <span class="pre">session</span></code>
button. This will create a shortcut on your desktop that connects
to Esrum.</p></li>
</ol>
<img alt="../../_images/mobaxterm_04.png" class="align-center" src="../../_images/mobaxterm_04.png" />
</li>
<li><p>Click OK and you should automatically connect to the server. If not,
then see <a class="reference internal" href="#s-reconnecting-with-mobaxterm"><span class="std std-ref">Reconnecting with MobaXterm</span></a> below. The first time
you connect to Esrum (or any other server), you will be asked if you
want to proceed. Simply press <code class="docutils literal notranslate"><span class="pre">Accept</span></code>:</p>
<img alt="../../_images/mobaxterm_05.png" class="align-center" src="../../_images/mobaxterm_05.png" />
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you receive this question again later, then stop and
double-check that you are connected via the UCPH VPN, as the
message could indicate that you are not actually connecting to
Esrum!</p>
</div>
</li>
<li><p>You should now be able to log in to the server using your UCPH
account password:</p>
<img alt="../../_images/mobaxterm_06.png" class="align-center" src="../../_images/mobaxterm_06.png" />
</li>
<li><p>For security reasons we recommend that you decline when asked if you
want to save your password:</p></li>
</ol>
</section>
<section id="reconnecting-with-mobaxterm">
<span id="s-reconnecting-with-mobaxterm"></span><h3>Reconnecting with MobaXterm<a class="headerlink" href="#reconnecting-with-mobaxterm" title="Link to this heading">¶</a></h3>
<p>To connect again another time, either use the desktop shortcut (if you
created it), double-click on <code class="docutils literal notranslate"><span class="pre">Esrum</span></code> in the list of sessions on the
left side of MobaXterm, select <code class="docutils literal notranslate"><span class="pre">Esrum</span></code> from the list that appears when
clicking on the <code class="docutils literal notranslate"><span class="pre">Sessions</span></code> button on the main menu, or click on
<code class="docutils literal notranslate"><span class="pre">Esrum</span></code> in the list of <code class="docutils literal notranslate"><span class="pre">Recent</span> <span class="pre">sessions</span></code>.</p>
<img alt="../../_images/mobaxterm_07.png" class="align-center" src="../../_images/mobaxterm_07.png" />
</section>
<section id="accessing-network-drives-via-mobaxterm">
<span id="s-network-drives-mobaxterm"></span><h3>Accessing network drives via MobaXterm<a class="headerlink" href="#accessing-network-drives-via-mobaxterm" title="Link to this heading">¶</a></h3>
<p>In order to access your UCPH network drives (<code class="docutils literal notranslate"><span class="pre">H:</span></code>, <code class="docutils literal notranslate"><span class="pre">N:</span></code>, and <code class="docutils literal notranslate"><span class="pre">S:</span></code>)
via Esrum, you must disable logins using Kerberos (GSSAPI). To do so,
open the <code class="docutils literal notranslate"><span class="pre">Configuration</span></code> dialog as shown:</p>
<img alt="../../_images/mobaxterm_08.png" class="align-center" src="../../_images/mobaxterm_08.png" />
<p>Select the <code class="docutils literal notranslate"><span class="pre">SSH</span></code> tab and then untick the <code class="docutils literal notranslate"><span class="pre">GSSAPI</span> <span class="pre">Kerberos</span></code> checkbox
as shown. Finally, click the <code class="docutils literal notranslate"><span class="pre">OK</span></code> button to close the options page:</p>
<img alt="../../_images/mobaxterm_09.png" class="align-center" src="../../_images/mobaxterm_09.png" />
</section>
</section>
<section id="connecting-on-osx">
<span id="s-connecting-osx"></span><h2>Connecting on OSX<a class="headerlink" href="#connecting-on-osx" title="Link to this heading">¶</a></h2>
<p>To connect to Esrum you will first have to connect to the UCPH VPN. For
information about connecting to the VPN using OSX, see the support pages
on KUnet in <a class="reference external" href="https://kunet.ku.dk/medarbejderguide/Sider/It/Fjernadgang-vpn.aspx">Danish</a> and <a class="reference external" href="https://kunet.ku.dk/employee-guide/Pages/IT/Remote-access.aspx">English</a>.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>While we recommend using the official UCPH VPN client for connecting
to the VPN, as described in the documentation on KUnet, it is also
possible to use the command-line <code class="docutils literal notranslate"><span class="pre">openconnect</span></code> as described in the
<a class="reference internal" href="#s-connecting-linux"><span class="std std-ref">Connecting on Linux</span></a> section below.</p>
</div>
<section id="connecting-to-esrum-using-ssh">
<span id="s-connecting-ssh"></span><h3>Connecting to Esrum using <code class="docutils literal notranslate"><span class="pre">ssh</span></code><a class="headerlink" href="#connecting-to-esrum-using-ssh" title="Link to this heading">¶</a></h3>
<p>Once connected to the VPN, you can connect to the cluster using the
terminal command <code class="docutils literal notranslate"><span class="pre">ssh</span></code>, replacing <code class="docutils literal notranslate"><span class="pre">abc123</span></code> with your UCPH username
in the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh<span class="w"> </span>abc123@esrumhead01fl.unicph.domain
</pre></div>
</div>
<p>You will likely be informed that the <code class="docutils literal notranslate"><span class="pre">the</span> <span class="pre">authenticity</span> <span class="pre">of</span> <span class="pre">host</span> <span class="pre">...</span>
<span class="pre">can't</span> <span class="pre">be</span> <span class="pre">established</span></code>. This is expected <em>the first time you connect</em>
(see below), and you should simply type <code class="docutils literal notranslate"><span class="pre">yes</span></code> and press enter to
continue. Once you've done so, you can enter your UCPH account password,
and approve the connection via the NetIQ app.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh<span class="w"> </span>abc123@esrumhead01fl.unicph.domain
<span class="go">The authenticity of host &#39;esrumhead01fl.unicph.domain (10.84.4.168)&#39; can&#39;t be established.</span>
<span class="go">ED25519 key fingerprint is SHA256:QslJ02Z/4CrFJ2pKA64lU8WTS8Y+8pGO+748bTkrFhY.</span>
<span class="go">This key is not known by any other names.</span>
<span class="hll"><span class="go">Are you sure you want to continue connecting (yes/no/[fingerprint])? yes</span>
</span><span class="go">Warning: Permanently added &#39;esrumhead01fl.unicph.domain&#39; (ED25519) to the list of known hosts.</span>
<span class="hll"><span class="go">abc123@esrumhead01fl.unicph.domain&#39;s password: *********</span>
</span><span class="go">     __</span>
<span class="go">    /  \</span>
<span class="go">   _\__/  Welcome to esrumhead01fl</span>
<span class="go">  (_)     University of Copenhagen</span>
<span class="go">_____O______________________________________</span>
<span class="go">Supported by UCPH IT  it.ku.dk/english</span>

<span class="go">    Documentation is available at https://cbmr-data.github.io/esrum/</span>
<span class="go">        For assistance contact Data Analytics at cbmr-esrum@sund.ku.dk,</span>
<span class="go">    in #data-analytics at https://cbmr.slack.com/archives/C06TF9LGD47</span>
<span class="go">        or find us in room 07-8-29 (Unit 8E) at the Maersk Tower.</span>

<span class="go">Last login: Tue Apr 22 13:52:08 2025 from 10.203.180.30</span>
<span class="gp">$</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you get a warning about the authenticity of Esrum at a later date,
then please double-check that you are connected to the UCPH VPN. This
message could mean that you are connecting to an entirely different
server!</p>
</div>
<p>It is recommended to add an entry for the cluster to your
<code class="docutils literal notranslate"><span class="pre">.ssh/config</span></code> file, replacing <code class="docutils literal notranslate"><span class="pre">abc123</span></code> with your UCPH username:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>cat<span class="w"> </span>~/.ssh/config
<span class="go">Host esrum esrumhead01fl esrumhead01fl.unicph.domain</span>
<span class="go">    HostName esrumhead01fl.unicph.domain</span>
<span class="go">    User abc123</span>
</pre></div>
</div>
<p>This allows you to connect to the server using the names <code class="docutils literal notranslate"><span class="pre">esrum</span></code>,
<code class="docutils literal notranslate"><span class="pre">esrumhead01fl</span></code>, or <code class="docutils literal notranslate"><span class="pre">esrumhead01fl.unicph.domain</span></code>, and without
having to specify your username:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh<span class="w"> </span>esrum
<span class="go">abc123@esrumhead01fl.unicph.domain&#39;s password:</span>
<span class="go">     __</span>
<span class="go">    /  \</span>
<span class="go">   _\__/  Welcome to esrumhead01fl</span>
<span class="go">  (_)     University of Copenhagen</span>
<span class="go">_____O______________________________________</span>
<span class="go">Supported by UNICPH IT  it.ku.dk/english</span>

<span class="go">Last login: Fri Oct 13 01:35:00 1980 from 127.0.0.1</span>
<span class="gp">$</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that the cluster <em>does not</em> support authentication through a
public SSH key and that you therefore have to enter your password
when connecting to the server.</p>
</div>
</section>
</section>
<section id="connecting-on-linux">
<span id="s-connecting-linux"></span><h2>Connecting on Linux<a class="headerlink" href="#connecting-on-linux" title="Link to this heading">¶</a></h2>
<p>The official instructions for connecting to the VPN under Linux (in
<a class="reference external" href="https://kunet.ku.dk/medarbejderguide/Sider/It/Fjernadgang-vpn.aspx">Danish</a> and <a class="reference external" href="https://kunet.ku.dk/employee-guide/Pages/IT/Remote-access.aspx">English</a>) are written under the assumption that you are
using KDE5.</p>
<p>If that is not the case, or if you prefer a command-line solution, then
you can also connect using <code class="docutils literal notranslate"><span class="pre">openconnect</span></code>, replacing <code class="docutils literal notranslate"><span class="pre">abc123</span></code> with
your UCPH username. Log in using your UCPH password and using
NetIQ/entering a TOTP code when prompted:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>sudo<span class="w"> </span>openconnect<span class="w"> </span>-u<span class="w"> </span>abc123<span class="w"> </span>vpn.ku.dk
<span class="go">POST https://vpn.ku.dk/</span>
<span class="go">Connected to 130.225.226.54:443</span>
<span class="go">SSL negotiation with vpn.ku.dk</span>
<span class="go">Connected to HTTPS on vpn.ku.dk with ciphersuite (TLS1.2)-(RSA)-(AES-256-CBC)-(SHA1)</span>
<span class="go">XML POST enabled</span>
<span class="go">Please enter your username and password.</span>
<span class="hll"><span class="go">Password: ****************</span>
</span><span class="go">POST https://vpn.ku.dk/</span>
<span class="go">Please enter the TOTP code generated on your device</span>
<span class="hll"><span class="go">Response: ****</span>
</span><span class="go">POST https://vpn.ku.dk/</span>
<span class="go">Got CONNECT response: HTTP/1.1 200 OK</span>
<span class="go">CSTP connected. DPD 30, Keepalive 20</span>
<span class="go">Established DTLS connection (using GnuTLS). Ciphersuite (DTLS1.2)-(ECDHE-RSA)-(AES-256-GCM).</span>
<span class="go">Configured as 10.203.179.174, with SSL connected and DTLS connected</span>
<span class="go">Session authentication will expire at Wed May  7 09:19:45 2025</span>
</pre></div>
</div>
<p>Depending on how you have configured <a class="reference external" href="https://mfa.ku.dk">multifactor authentication for
UCPH</a>, you will have to authenticate the login
using one of the following methods:</p>
<ul class="simple">
<li><p>If using NetIQ, open the app on your phone and approve the login.</p></li>
<li><p>If asked, enter the time based one-time password (TOTP) generated by
the app you have enrolled</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It may be possible to authenticate using additional methods, such as
Yubikeys, but we currently cannot offer a guide to using those with
<code class="docutils literal notranslate"><span class="pre">openconnect</span></code>.</p>
</div>
<p>You will likely have to install <code class="docutils literal notranslate"><span class="pre">openconnect</span></code> first, in which case
please refer to the documentation for the Linux distro you are using.
OSX users can install <code class="docutils literal notranslate"><span class="pre">openconnect</span></code> using <a class="reference external" href="https://brew.sh/">Homebrew</a>.</p>
<p>Once you are connected to the VPN, you can follow the instructions in
the <a class="reference internal" href="#s-connecting-ssh"><span class="std std-ref">Connecting to Esrum using ssh</span></a> section above for connecting to Esrum
itself.</p>
</section>
<section id="troubleshooting">
<span id="s-connecting-troubleshooting"></span><h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Link to this heading">¶</a></h2>
<p>If you have not already been granted access to the server, then please
see the <a class="reference internal" href="access.html#p-usage-access-applying"><span class="std std-ref">Applying for access</span></a> page before continuing!</p>
<section id="timeout-while-connecting-to-the-cluster">
<h3>Timeout while connecting to the cluster<a class="headerlink" href="#timeout-while-connecting-to-the-cluster" title="Link to this heading">¶</a></h3>
<p>You may experience timeout errors when you attempt to connect to Esrum.</p>
<p>On Linux, this typically results in an <code class="docutils literal notranslate"><span class="pre">Operation</span> <span class="pre">timed</span> <span class="pre">out</span></code> message:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp">$ </span>ssh<span class="w"> </span>abc123@esrumhead01fl.unicph.domain
<span class="go">ssh: connect to host esrumhead01fl.unicph.domain port 22: Operation timed out</span>
</pre></div>
</div>
<p>On Windows, using MobaXterm, it may result in a <code class="docutils literal notranslate"><span class="pre">connection</span> <span class="pre">timed</span> <span class="pre">out</span></code>
message:</p>
<img alt="../../_images/connecting_mobaxterm_timeout.png" class="align-center" src="../../_images/connecting_mobaxterm_timeout.png" />
<p>Firstly verify that you are correctly connected to the UCPH VPN. This is
required to connect to Esrum. See the <a class="reference internal" href="#p-usage-connecting"><span class="std std-ref">Connecting to the cluster</span></a> page for
more information.</p>
<p>If you are still unable to connect to Esrum after verifying that you are
correctly connected to the UCPH network, then please try to visit either
our <a class="reference external" href="https://cbmrcat.unicph.domain/projects/">Project Manager</a> or our
<a class="reference external" href="https://cbmrcat.unicph.domain/">Cohort Catalog</a>.</p>
<p>If you are able to visit either of the Project Manager or Cohort Catalog
pages, then you most likely do not have proper permissions to connect to
Esrum. Please <a class="reference internal" href="../../contact.html#p-contact"><span class="std std-ref">contact us</span></a> and we will provide further
guidance.</p>
<p>If you are unable to connect to the VPN or to either of the above pages
while connected to the VPN, then there may be other problems with your
account. We recommend that you either <a class="reference internal" href="../../contact.html#p-contact"><span class="std std-ref">contact us</span></a> for
assistance or, if you prefer, that you submit a ticket to the UCPH-IT
<a class="reference external" href="https://serviceportal.ku.dk/">Serviceportal</a>, using the <code class="docutils literal notranslate"><span class="pre">Research</span> <span class="pre">Applications</span> <span class="pre">Counseling</span> <span class="pre">and</span>
<span class="pre">Support</span></code> / <code class="docutils literal notranslate"><span class="pre">Forskningsapplikationer</span> <span class="pre">Rådgivning</span> <span class="pre">og</span> <span class="pre">support</span></code> ticket
category.</p>
</section>
<section id="file-uploads-using-mobaxterm-never-start">
<h3>File uploads using MobaXterm never start<a class="headerlink" href="#file-uploads-using-mobaxterm-never-start" title="Link to this heading">¶</a></h3>
<p>Please make sure that your session is configured to use the <code class="docutils literal notranslate"><span class="pre">SCP</span>
<span class="pre">(enhanced</span> <span class="pre">speed)</span></code> browser type. See step 4 in the
<a class="reference internal" href="#s-configure-mobaxterm"><span class="std std-ref">Configuring MobaXterm</span></a> section.</p>
</section>
<section id="network-folders-in-ucph-are-not-available">
<h3>Network-folders in <code class="docutils literal notranslate"><span class="pre">~/ucph</span></code> are not available<a class="headerlink" href="#network-folders-in-ucph-are-not-available" title="Link to this heading">¶</a></h3>
<p>Please make sure that you have disabled use of <code class="docutils literal notranslate"><span class="pre">GSSAPI</span> <span class="pre">Kerberos</span></code> as
described in the <a class="reference internal" href="#s-configure-mobaxterm"><span class="std std-ref">Configuring MobaXterm</span></a> section. Similarly, if
using Linux or OSX, then you cannot be authenticating using a Kerberos
ticket.</p>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../filesystem.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Data storage on Esrum</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="access.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Applying for access</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2023-2024, CBMR Data Analytics; licensed under CC-BY 4.0
            </div>
            Made with <a href="https://www.sphinx-doc.org/">Sphinx</a> and <a class="muted-link" href="https://pradyunsg.me">@pradyunsg</a>'s
            
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Connecting to the cluster</a><ul>
<li><a class="reference internal" href="#connecting-on-windows">Connecting on Windows</a><ul>
<li><a class="reference internal" href="#configuring-mobaxterm">Configuring MobaXterm</a></li>
<li><a class="reference internal" href="#reconnecting-with-mobaxterm">Reconnecting with MobaXterm</a></li>
<li><a class="reference internal" href="#accessing-network-drives-via-mobaxterm">Accessing network drives via MobaXterm</a></li>
</ul>
</li>
<li><a class="reference internal" href="#connecting-on-osx">Connecting on OSX</a><ul>
<li><a class="reference internal" href="#connecting-to-esrum-using-ssh">Connecting to Esrum using <code class="docutils literal notranslate"><span class="pre">ssh</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#connecting-on-linux">Connecting on Linux</a></li>
<li><a class="reference internal" href="#troubleshooting">Troubleshooting</a><ul>
<li><a class="reference internal" href="#timeout-while-connecting-to-the-cluster">Timeout while connecting to the cluster</a></li>
<li><a class="reference internal" href="#file-uploads-using-mobaxterm-never-start">File uploads using MobaXterm never start</a></li>
<li><a class="reference internal" href="#network-folders-in-ucph-are-not-available">Network-folders in <code class="docutils literal notranslate"><span class="pre">~/ucph</span></code> are not available</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/scripts/furo.js?v=4e2eecee"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=a7c4b63f"></script>
    <script src="../../_static/js/custom.js?v=d3d7fd27"></script>
    <script src="../../_static/js/libgif.js?v=7adcb026"></script>
    <script src="../../_static/js/playback.js?v=d7002ce9"></script>
    </body>
</html>